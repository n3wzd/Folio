# Portfolio 2024

---

2024-09 (1인)

## 배경
개발 프로젝트를 소개하는 포트폴리오 웹 사이트입니다. 웹 사이트를 직접 제작하는 과정을 통해 더 깊이 있는 경험을 얻고자 하는 목표에서 시작되었습니다. 제 기술과 아이디어를 직접 구현함으로써, 더 나만의 스타일을 강조하고, 직접 만든 사이트를 통해 웹 개발에 대한 이해도를 높이며, 미래 프로젝트에서도 더 나은 결과물을 만들 수 있는 기반을 다지고자 했습니다.

## 스택
- React: 개발 언어

### 패키지
- react-markdown: 마크다운 텍스트를 HTML으로 변환

## 문제 및 해결
### 배경 애니메이션
웹 사이트에서 동적 배경을 추가하면 사용자의 이목을 끌 수 있습니다. 그래서 배경으로 3D 애니메이션을 추가하고자 합니다. HTML `canvas` API를 이용하면 3D 애니메이션을 구현할 수 있습니다.

1. **동적 캔버스 생성**: `canvas` 요소를 생성합니다.
2. **파티클 생성**: 지정된 수의 파티클을 생성하고, 적절한 위치에 배치합니다.
3. **애니메이션 구현**: `requestAnimationFrame`을 활용하며 매 프레임마다 함수가 실행되도록 합니다. 이 함수에서 파티클의 움직임을 제어하여 다양항 애니메이션을 구현할 수 있습니다.
	- 사인 함수를 사용하여 각 파티클의 y좌표를 업데이트하면 파도 애니메이션이 만들어집니다.
	-  파티클의 경로를 연결하는 선을 그리고 원 운동을 도입하면 3D 모양 애니메이션이 만들어집니다.

생성된 3D 애니메이션이 배경에 배치되어 사용자의 시각적 경험이 향상되었습니다.

### 페이드인/아웃 레이아웃
프로젝트 섹션의 레이아웃은 리스트 구조입니다. 사용자는 리스트를 넘겨서 프로젝트의 사진과 설명을 볼 수 있습니다. 이때 리스트를 넘기는 효과로 페이드 인과 페이드 아웃을 추가하여 시각적 경험을 향상시키고자 합니다.

1. **레이아웃 설정**: 리스트에서 CSS의 `display` 속성을 `grid`로 설정하여 2개 이상의 컴포넌트가 겹칠 수 있게 합니다.
2. **애니메이션 설정**: 리스트 아이템에 CSS 애니메이션을 추가합니다. `opacity` 속성을 제어하여 페이드 인 / 아웃 애니메이션을 만듭니다.
3. **전환 이벤트 처리**: 리스트 전환 이벤트가 호출되면 현재 페이지를 이전 페이지로, 다음 페이지를 현재 페이지로 설정합니다.
    - 이전 페이지는 페이드 아웃, 현재 페이지는 페이드 인 효과가 적용됩니다.
    - 애니메이션 상태를 `true`로 설정하여 애니메이션을 재생합니다.
    - 자연스러운 재생을 위해, 애니메이션이 재생 중일 때는 사용자가 리스트를 전환할 수 없게 합니다.
	- 애니메이션은 `false`에서 `true`가 되는 순간에 재생되므로 다시 상태를 `false`로 되돌릴 필요가 있습니다. `setTimeout` 함수를 사용하여 특정 시간 후(예: 700ms) 애니메이션 상태를 `false`로 되돌립니다.

프로젝트 섹션은 이미지와 비디오를 포함합니다. 만약 컴포넌트의 파라미터가 변경되면, 해당 컴포넌트가 다시 렌더링되어 비디오 재생이 초기화됨으로써 트랜지션이 시작적으로 부자연스러워진다는 문제가 발생합니다. 이 문제를 해결하기 위해 리스트 아이템 교체시, 파라미터를 바꾸지 않고 컴포넌트를 교체하는 방법을 적용하였습니다. 파라미터 전환 대신, 컴포넌트의 클래스 명이 변경되어 리스트 아이템이 전환되어도 재생되던 비디오가 초기화되지 않게 되었습니다.

종합적으로 프로젝트 리스트가 매끄럽게 전환되어 사용자에게 더 몰입감 있는 시각적 경험을 제공합니다.

### 마크다운 문서 출력
프로젝트의 README는 일반적으로 마크다운 텍스트로 작성됩니다. 이 텍스트를 웹 사이트에 표현하려면 HTML으로 변환해야 합니다. 그러나 HTML으로 텍스트를 직접 변환하면 추후 내용 수정이 불편하고 가독성이 떨어진다는 문제점이 있습니다. 문서 자체는 마크다운으로 유지하되, 웹 사이트에 표기할 때는 HTML으로 변환하는 방법을 찾아야 합니다.

이 문제를 해결하기 위해 마크다운 텍스트를 HTML으로 변환하기 위해 `react-markdown` 패키지를 활용하였습니다. 이 패키지는 마크다운 파일(확장자 md)을 React에서 변환하여 HTML로 변환하여 화면에 출력하는 기능을 가지고 있습니다.

`react-markdown` 패키지를 활용함으로써 기능 구현과 유지 보수성 2가지를 모두 챙길 수 있었습니다.

### 부드러운 스크롤
일반적으로 사용자의 스크롤 동작은 적절한 높이만큼 화면을 올리거나 내립니다. 이러한 스크롤 동작은 화면에 배치된 컴포넌트와 무관하게 이뤄지므로, 사용자가 원하는 화면을 찾을 때까지 여러 번 스크롤해야 합니다. 만약 컴포넌트 시작점에 맞춰 한 번에 스크롤이 된다면 사용자 입장에서 편리할 것입니다. 따라서 한번 스크롤을 하면 다음 컴포넌트 시작점까지 부드럽게 스크롤되는 기능을 구현하고자 합니다.

1. **섹션 참조 생성**: 여러 섹션에 대한 참조를 생성합니다. 이 참조들은 나중에 각 섹션의 위치를 확인하는 데 사용됩니다.
2. **부드러운 스크롤**: 사용자가 마우스 휠을 스크롤할 때마다, 기본 스크롤 동작을 방지하고 자동으로 스크롤을 처리하는 함수가 호출됩니다.
3. **다음 위치 이동**: 각 섹션의 Y 좌표를 확인하여 사용자가 현재 어느 섹션에 위치하고 있는지를 판단합니다. 그에 따라 가장 가까운 섹션으로 이동하게 됩니다.

최종적으로 사용자는 마우스 휠로 스크롤할 때 자연스럽게 페이지 내의 다른 섹션으로 이동할 수 있어, 보다 매끄럽고 향상된 사용자 경험을 제공합니다.

그러나 전체 웹 사이트에 부드러운 스크롤을 추가하면서 하위 컴포넌트에서도 자동 스크롤이 적용되는 문제가 발생합니다. 이를 해결하려면 스크롤이 발생하는 하위 컴포넌트에서는 스크롤 이벤트 호출 시, 상위 컴포넌트에는 호출되지 않게 해야 합니다. 이는 하위 컴포넌트 이벤트 함수에 상위 컴포넌트까지 이벤트를 전파하는 것을 방지하는 `event.stopPropagation()`를 넣음으로써 해결할 수 있습니다.
